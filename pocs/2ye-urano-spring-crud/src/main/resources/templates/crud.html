<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Getting Started: Serving Web Content</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
</head>
<body>
<div class="container" style="width: 800px">
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <h3>CRUD Example</h3>
    </div>
  </div>
</nav>
	<button  id="btn-delete" class="  btn btn-lg btn-primary" >Delete Person</button>
	<button  id="btn-insert" class=" btn btn-lg btn-success" >Insert Person</button>
	<div  style="margin-top: 10px">
	
	<div title="All Persons" th:unless="${#lists.isEmpty(allPersons)}">
	<h1 style="align=center">All Persons</h1>
	<table class="table table-bordered">
	<thead>
      <tr>
        <th>First Name</th>
        <th>Last Name</th>
        </tr>
        </thead>
		<tbody>
			 <tr th:each="row: ${allPersons}">
                <td th:text="${row.firstName}">FirstName</td>
                <td th:text="${row.lastName}">Last Name</td>
                </tr>
		</tbody>
	</table>
	</div>
	<!-- <button  id="btn-teste" >Find All</button>-->
	</div>
	<div  id="dialog-delete" style="display:none" title="Delete a Person" >
	<form action="#" th:action="@{/deletePerson}" th:object="${person}" method="post">
    	<p>Nome: <input type="text" th:field="*{firstName}" /></p>
        <p>Sobrenome: <input type="text" th:field="*{lastName}" /></p>
        <p><button id='btn-delete' >Delete</button></p>
    </form>
    </div>
    <div  id="dialog-insert" style="display:none" title="Insert a Person" >
	<form action="#" th:action="@{/insertPerson}" th:object="${person}" method="post">
    	<p>Nome: <input type="text" th:field="*{firstName}" /></p>
        <p>Sobrenome: <input type="text" th:field="*{lastName}" /></p>
        <p><button id='btn-delete' >Insert</button></p>
    </form>
    </div>
    </div>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script> 
	<script src="http://code.jquery.com/ui/1.11.1/jquery-ui.min.js"></script>
	<script type="text/javascript">
	$(document).ready(function(){
			$('#btn-teste').on('click',function(){
				$.post( "http://localhost:8080/find", function( data ) {
					  $( "#result" ).html( data.split(',') );
					});
			});
			$('#btn-delete').on('click',function(){
				$('#dialog-delete').dialog();
			});
			$('#btn-insert').on('click',function(){
				$('#dialog-insert').dialog();
			});
			
		});
	</script>
</body>
</html>
